
<h1>Shells Jack Us In, Payloads Deliver Us Shells</h1>
<hr/>
<p><img alt="GIF showcasing a Bash script with matrix effect." src="https://academy.hackthebox.com/storage/modules/115/nonono.txt"/></p>
<p>A <code>shell</code> is a program that provides a computer user with an interface to input instructions into the system and view text output (Bash, Zsh, cmd, and PowerShell, for example). As penetration testers and information security professionals, a shell is often the result of exploiting a vulnerability or bypassing security measures to gain interactive access to a host. We may have heard or read the following phrases used by people discussing an engagement or a recent practice session:</p>
<ul>
<li>
<code>"I caught a shell."</code>
</li>
<li>
<code>"I popped a shell!"</code>
</li>
<li>
<code>"I dropped into a shell!"</code>
</li>
<li>
<code>"I'm in!"</code>
</li>
</ul>
<p>Typically these phrases translate to the understanding that this person has successfully exploited a vulnerability on a system and has been able to gain remote control of the shell on the target computer's operating system. This is a common goal a penetration tester will have when attempting to access a vulnerable machine. We will notice that most of this module will focus on what comes after enumeration and identification of promising exploits.</p>
<hr/>
<h2>Why Get a Shell?</h2>
<p>Remember that the shell gives us direct access to the <code>OS</code>, <code>system commands</code>, and <code>file system</code>. So if we gain access, we can start enumerating the system for vectors that may allow us to escalate privileges, pivot, transfer files, and more. If we don't establish a shell session, we are pretty limited on how far we can get on a target machine.</p>
<p>Establishing a shell also allows us to maintain persistence on the system, giving us more time to work. It can make it easier to use our <code>attack tools</code>, <code>exfiltrate data</code>, <code>gather</code>, <code>store</code> and <code>document</code> all the details of our attack, as we will soon see in the proceeding demonstrations. It's important to note that establishing a shell almost always means we are accessing the CLI of the OS, and this can make us harder to notice than if we were remotely accessing a graphical shell over <a href="https://en.wikipedia.org/wiki/Virtual_Network_Computing">VNC</a> or <a href="https://www.cloudflare.com/learning/access-management/what-is-the-remote-desktop-protocol/">RDP</a>. Another significant benefit of becoming skilled with command-line interfaces is that they can be <code>harder to detect than graphical shells</code>, <code>faster to navigate the OS</code>, and <code>easier to automate our actions</code>. We view shells through the lens of the following  perspectives throughout this module:</p>
<table>
<thead>
<tr>
<th><strong>Perspective</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Computing</code></td>
<td>The text-based userland environment that is utilized to administer tasks and submit instructions on a PC. Think Bash, Zsh, cmd, and PowerShell.</td>
</tr>
<tr>
<td><code>Exploitation</code> <code>&amp;</code> <code>Security</code></td>
<td>A shell is often the result of exploiting a vulnerability or bypassing security measures to gain interactive access to a host. An example would be triggering <a href="https://www.cisecurity.org/wp-content/uploads/2019/01/Security-Primer-EternalBlue.pdf">EternalBlue</a> on a Windows host to gain access to the cmd-prompt on a host remotely.</td>
</tr>
<tr>
<td><code>Web</code></td>
<td>This is a bit different. A web shell is much like a standard shell, except it exploits a vulnerability (often the ability to upload a file or script) that provides the attacker with a way to issue instructions, read and access files, and potentially perform destructive actions to the underlying host. Control of the web shell is often done by calling the script within a browser window.</td>
</tr>
</tbody>
</table>
<hr/>
<h2>Payloads Deliver us Shells</h2>
<p>Within the IT industry as a whole, a <code>payload</code> can be defined in a few different ways:</p>
<ul>
<li>
<code>Networking</code>: The encapsulated data portion of a packet traversing modern computer networks.</li>
<li>
<code>Basic Computing</code>: A payload is the portion of an instruction set that defines the action to be taken. Headers and protocol information removed.</li>
<li>
<code>Programming</code>: The data portion referenced or carried by the programming language instruction.</li>
<li>
<code>Exploitation &amp; Security</code>: A payload is <code>code</code> crafted with the intent to exploit a vulnerability on a computer system. The term payload can describe various types of malware, including but not limited to ransomware.</li>
</ul>
<p>In this module, we will be working with many different types of <code>payloads</code> and delivery methods within the context of granting ourselves access to a host and establishing <code>remote shell</code> sessions with vulnerable systems.</p>
