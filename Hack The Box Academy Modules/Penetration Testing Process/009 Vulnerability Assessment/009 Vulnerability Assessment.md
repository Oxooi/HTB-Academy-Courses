
<h1>Vulnerability Assessment</h1>
<hr/>
<p>During the <code>vulnerability assessment</code> phase, we examine and analyze the information gathered during the information gathering phase. The vulnerability assessment phase is an analytical process based on the findings.</p>
<p><img alt="Penetration testing process: Pre-Engagement, Information Gathering, Vulnerability Assessment, Exploitation, Post-Exploitation, Lateral Movement, Proof-of-Concept, Post-Engagement." src="https://academy.hackthebox.com/storage/modules/90/0-PT-Process-VA.png"/></p>
<p><code>An analysis is a detailed examination of an event or process, describing its origin and impact, that with the help of certain precautions and actions, can be triggered to support or prevent future occurrences.</code></p>
<p>Any analysis can be very complicated, as many different factors and their interdependencies play a significant role. Apart from the fact that we work with the three different times (past, present, and future) during each analysis, the origin and destination play a significant role. There are four different types of analysis:</p>
<table>
<thead>
<tr>
<th><strong>Analysis Type</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Descriptive</code></td>
<td>Descriptive analysis is essential in any data analysis. On the one hand, it describes a data set based on individual characteristics. It helps to detect possible errors in data collection or outliers in the data set.</td>
</tr>
<tr>
<td><code>Diagnostic</code></td>
<td>Diagnostic analysis clarifies conditions' causes, effects, and interactions. Doing so provides insights that are obtained through correlations and interpretation. We must take a backward-looking view, similar to descriptive analysis, with the subtle difference that we try to find reasons for events and developments.</td>
</tr>
<tr>
<td><code>Predictive</code></td>
<td>By evaluating historical and current data, predictive analysis creates a predictive model for future probabilities. Based on the results of descriptive and diagnostic analyses, this method of data analysis makes it possible to identify trends, detect deviations from expected values at an early stage, and predict future occurrences as accurately as possible.</td>
</tr>
<tr>
<td><code>Prescriptive</code></td>
<td>Prescriptive analytics aims to narrow down what actions to take to eliminate or prevent a future problem or trigger a specific activity or process.</td>
</tr>
</tbody>
</table>
<p>We use our results and information obtained so far and analyze them to make conclusions. The formation of conclusions can be extended very far, but we must then confirm or disprove them. Suppose we found an open TCP port 2121 on a host during the information-gathering phase.</p>
<p>Other than the fact that this port is open, Nmap did not show us anything else. We must now ask ourselves what conclusions can be drawn from this result. Therefore, it does not matter which question we start with to make our conclusions. However, it is essential to ask <code>precise questions</code> and remember what we <code>know</code> and <code>do not know</code>. At this point, we must first ask ourselves what we <code>see</code> and what we actually <code>have</code>, because what we see is not the same as what we have:</p>
<ul>
<li>
<p>a <code>TCP</code> port <code>2121</code>. - <code>TCP</code> already means that this service is <code>connection-oriented</code>.</p>
</li>
<li>
<p>Is this a <code>standard</code> port? - <code>No</code>, because these are between <code>0-1023</code>, aka well-known or <a href="https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml">system ports</a></p>
</li>
<li>
<p>Are there any numbers in this <code>port number</code> that look <code>familiar</code>? - <code>Yes</code>, <code>TCP</code> port <code>21</code> (<code>FTP</code>). From our experience, we will get to know many standard ports and their services, which administrators often try to disguise, but often use "easy to remember" alternatives.</p>
</li>
</ul>
<p>Based on our guess, we can try to connect to the service using <code>Netcat</code> or an <code>FTP</code> client and try to establish a connection to confirm or disprove our guess.</p>
<p>While connecting to the service, we noticed that the connection took longer than usual (about 15 seconds). There are some services whose connection speed, or response time, can be configured. Now that we know that an FTP server is running on this port, we can deduce the origin of our "failed" scan. We could confirm this again by specifying the minimum <code>probe round trip time</code> (<code>--min-rtt-timeout</code>) in Nmap to 15 or 20 seconds and rerunning the scan.</p>
<hr/>
<h2>Vulnerability Research and Analysis</h2>
<p><code>Information Gathering</code> and <code>Vulnerability Research</code> can be considered a part of descriptive analysis. This is where we identify the individual network or system components we are investigating. In <code>Vulnerability Research</code>, we look for known vulnerabilities, exploits, and security holes that have already been discovered and reported. Therefore, if we have identified a version of a service or application through information gathering and found a <a href="https://www.cve.org/ResourcesSupport/FAQs">Common Vulnerabilities and Exposures (CVE)</a>, it is very likely that this vulnerability is still present.</p>
<p>We can find vulnerability disclosures for each component using many different sources. These include, but are not limited to:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://www.cvedetails.com/">CVEdetails</a></td>
<td><a href="https://www.exploit-db.com">Exploit DB</a></td>
<td><a href="https://vulners.com">Vulners</a></td>
</tr>
<tr>
<td><a href="https://packetstormsecurity.com">Packet Storm Security</a></td>
<td><a href="https://nvd.nist.gov/vuln/search?execution=e2s1">NIST</a></td>
<td></td>
</tr>
</tbody>
</table>
<p>This is where <code>Diagnostic Analysis</code> and <code>Predictive Analysis</code> is used. Once we have found a published vulnerability like this, we can diagnose it to determine what is causing or has caused the vulnerability. Here, we must understand the functionality of the <code>Proof-Of-Concept</code> (<code>POC</code>) code or the application or service itself as best as possible, as many manual configurations by administrators will require some customization for the POC. Each POC is tailored to a specific case that we will also need to adapt to ours in most cases.</p>
<hr/>
<h2>Assessment of Possible Attack Vectors</h2>
<p><code>Vulnerability Assessment</code> also includes the actual testing, which is part of <code>Predictive Analysis</code>. In doing so, we analyze historical information and combine it with the current information that we have been able to find out. Whether we have received specific evasion level requirements from our client, we test the services and applications found <code>locally</code> or <code>on the target system</code>. If we have to test covertly and avoid alerts, we should mirror the target system locally as precisely as possible. This means we use the information obtained during our information gathering phase to replicate the target system and then look for vulnerabilities in the locally deployed system.</p>
<hr/>
<h2>The Return</h2>
<p>Suppose we are unable to detect or identify potential vulnerabilities from our analysis. In that case, we will return to the <code>Information Gathering</code> stage and look for more in-depth information than we have gathered so far. It is important to note that these two stages (<code>Information Gathering</code> and <code>Vulnerability Assessment</code>) often overlap, resulting in regular back and forth movement between them. We will see this in many videos where the author is solving an HTB box or some CTF challenge. We should remember that these challenges are often solved as fast as possible, and therefore speed is more important than quality. In a CTF, the goal is to get on the target machine and <code>capture the flags</code> with the highest privileges as fast as possible instead of exposing all potential weaknesses in the system.</p>
<table>
<thead>
<tr>
<th><strong><code>A (real) Penetration Test is not a CTF.</code></strong></th>
</tr>
</thead>
</table>
<p>Here the <code>quality</code> and <code>intensity</code> of our penetration test and its analysis have the highest priority because nothing is worse if our client gets successfully hacked via a relatively simple vector that we should have uncovered during our penetration test.</p>
<div class="d-inline-block mb-2 solutionSettings solutionSettingsOffsets" id="solutionsModuleSetting">
<div class="border border-secondary p-2 rounded">
<div class="custom-control custom-switch d-flex">
<input class="custom-control-input" disabled="" id="showSolutionsModuleSetting" type="checkbox"/>
<label class="custom-control-label font-size-14 font-weight-normal text-white" for="showSolutionsModuleSetting">
                                Enable step-by-step solutions for all questions
                            </label>
<span aria-hidden="true" class="cursor-pointer font-size-14 ml-1 mr-1 text-white" data-content="Access to this feature is exclusive to annual subscribers. To acquire an annual subscription, kindly proceed by clicking &lt;a href='/billing'&gt;here&lt;/a&gt;." data-html="true" data-placement="top" data-toggle="popover" data-trigger="click" title="Activate Solutions">
<i class="fa fa-info-circle font-size-12"></i>
</span>
<img alt="sparkles-icon-decoration" class="ml-2 w-auto sparkles-icon" height="20" src="/images/sparkles-solid.svg">
</img></div>
</div>
</div>
<div class="card" id="questionsDiv">
<div class="card-body">
<div class="row">
<div class="col-9">
<h4 class="card-title mt-0 font-size-medium">Questions</h4>
<p class="card-title-desc font-size-large font-size-15">Answer the question(s) below
                                to complete this Section and earn cubes!</p>
</div>
<div class="col-3 text-right float-right">
</div>
</div>
<div>
<div>
<label class="module-question" for="693"><span class="badge badge-soft-dark font-size-14 mr-2">+ 2 <i class="fad fa-cube text-success"></i></span> What type of analysis can be used to predict future probabilities?
                            </label>
<div class="row">
<div class="col-lg-12 mb-4">
<input class="form-control bg-color-blue-nav" color="green" id="answer693" maxlength="191" placeholder="Submit your answer here..." type="text"/>
</div>
<div class="d-flex justify-content-end w-100 mr-3">
<p class="mb-0 mr-3 mt-1 font-size-14 font-medium text-white" id="questionStreakPointsText-693">
                                        +10 Streak pts</p>
<div class="mb-4 mr-1 d-flex align-items-center">
<button class="btn btn-primary btn-block btnAnswer" data-question-id="693" id="btnAnswer693">
<div class="submit-button-text">
<i class="fad fa-flag-checkered mr-2"></i> Submit
                                            </div>
<div class="submit-button-loader mx-4 d-none">
<i class="fa fa-circle-notch fa-spin"></i>
</div>
</button>
</div>
</div>
</div>
<div class="">
</div>
</div>
</div>
</div>
</div>
